
library(here)
library(tidyverse)
# add source

# load in utterance data 

metadata <- read.csv("data/metadata.csv", header = FALSE, sep = "|")


df <- character()

for(thisRun in 1:nrow(metadata)) {                                           # Head of for-loop
  x1 <- strsplit(metadata$V2[thisRun], " ") %>% 
    as.data.frame(col.names = "word") %>% 
    mutate("utterance" = metadata$V1[thisRun])
  # Code block
  print(x1)
  df <- rbind(df, x1) %>% 
    as.data.frame()
}

# check how many times words are uttered total
total <- df %>% 
  group_by(word) %>% 
  summarise(n = n())

# loop to create txt files based on annotation data 

for(thisRun in 1:nrow(metadata))
{
  filename <- metadata$V1[thisRun]  
  direc <- "data/wavs/"
  end <- ".txt"
  path <- paste0(direc,filename,end)
  fileConn<-file(paste0(path))
  writeLines(metadata$V2[thisRun], fileConn)
  close(fileConn)
}


