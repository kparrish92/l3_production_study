filter(participant %in% mono_participants) %>%
filter(!is.na(language))
# quick look at desc rel vot in monolinguals
mono_df %>%
group_by(language) %>%
summarise(mean = mean(relative_vot), sd = sd(relative_vot))
# quick look at desc abs vot in monolinguals
mono_df %>%
group_by(language) %>%
summarise(mean = mean(vot_ms), sd = sd(vot_ms))
# quick look at desc abs vot in monolinguals
mono_df %>%
group_by(language) %>%
summarise(mean = mean(vot_ms), sd = sd(vot_ms))
View(mono_df)
View(mono_df)
View(tidy_mono)
mono_bio <- read.csv(here("data", "tidy", "mono_bio_data.csv"))
View(mono_bio)
mono_bio <- read.csv(here("data", "tidy", "completed_mono.csv"))
View(mono_bio)
# Source libs -----------------------------------------------------------------
source(here::here("scripts", "00_libs.R"))
source(here("scripts", "01_helpers.R"))
## load all monolingual participants
list_of_files_m <- list.files(path = here("data", "mono_uploads"), recursive = TRUE,
pattern = "\\.TextGrid$",
full.names = TRUE) %>%
as.data.frame()
df3 <- character()
for (iteration in 1:nrow(list_of_files_m)) {
df <- read_textgrid(list_of_files_m$.[iteration]) %>%
add_words() %>%
mutate(file = list_of_files_m$.[iteration])
df3 <- rbind(df, df3)
}
spanish_list <- c("tiro","tema","talla","quiso","queja", "cama", "piso","pena","pato")
french_list <- c("tir","terre","tasse","quitte","quelle","pile","pere","patte")
tidy_mono <- df3 %>%
mutate(file = str_remove(file,
"/Users/kyleparrish/Documents/GitHub/l3_production_study/data/mono_uploads/")) %>%
separate(file, into = c("participant", "other", sep = "/")) %>%
mutate(vot = xmax - xmin) %>%
mutate(relative_vot = vot/duration) %>%
dplyr::select(participant, text, tier_name, word, duration, vot, relative_vot) %>%
filter(text == "t" | text == "p" | text == "k") %>%
mutate(language = case_when(word %in% spanish_list ~ "spanish",
word %in% french_list ~ "french")) %>%
filter(!(text == "t" & word == "quitte")) %>%
filter(!(text == "t" & word == "patte")) %>%
filter(!(text == "t" & word == "pato")) %>%
mutate(vot_ms = vot*1000)
mono_participants <- c(324130, 324140, 324149, 324151, 324154,
324155, 324157, 324164, 324165, 324166,
324171, 324178, 324183, 324185, 324192,
324219, 324225, 324249)
# 324231, 324255 - follow up - suspicious amount of aspiration in L3 fre
# 324226 did both - doesn't count
# 324224 did both
# 324203 low quality
# 324213 low quality
# 324239 low quality
# verify that prolific ids don't overlap between groups
mono_df <- tidy_mono %>%
filter(participant %in% mono_participants) %>%
filter(!is.na(language))
mono_df %>%
write.csv(here("data", "tidy", "mono_df.csv"))
# quick look at desc rel vot in monolinguals
mono_df %>%
group_by(language) %>%
summarise(mean = mean(relative_vot), sd = sd(relative_vot))
# quick look at desc abs vot in monolinguals
mono_df %>%
group_by(language) %>%
summarise(mean = mean(vot_ms), sd = sd(vot_ms))
subset_df %>%
group_by(language) %>%
summarise(mean = mean(vot_ms), sd = sd(vot_ms))
#l1_df %>%
# group_by(language) %>%
#summarise(mean = mean(vot_ms), sd = sd(vot_ms))
mono_participants <- c(324130, 324140, 324149, 324151, 324154,
324155, 324157, 324164, 324165, 324166,
324171, 324178, 324183, 324185, 324192,
324219, 324225, 324249)
View(mono_df)
# quick look at desc rel vot in monolinguals
mono_df %>%
group_by(language) %>%
summarise(mean = mean(relative_vot), sd = sd(relative_vot))
# quick look at desc abs vot in monolinguals
mono_df %>%
group_by(language) %>%
summarise(mean = mean(vot_ms), sd = sd(vot_ms))
mono_data <0 read.csv(here("data", "tidy", "mono_df.csv"))
mono_data <- read.csv(here("data", "tidy", "mono_df.csv"))
mono_data <- read.csv(here("data", "tidy", "mono_df.csv"))
mono_df <- mono_data %>%
group_by(language) %>%
summarise(mean = mean(relative_vot), sd = sd(relative_vot))
mono_df
mono_df <- mono_data %>%
group_by(language) %>%
summarise(mean = mean(relative_vot), sd = sd(relative_vot))
mono_df <- mono_data %>%
group_by(language) %>%
summarise(mean = mean(relative_vot), sd = sd(relative_vot)) %>%
knitr::kable(digits = 3, caption = "Table 6: Descriptive pooled Relative VOT per language in monolinguals")
mono_data %>%
ggplot(aes(x = relative_vot, y = language)) + geom_boxplot() + xlim(0,.3)
library(here)
library(tidyverse)
library(lme4)
library(sjPlot)
source(here::here("scripts", "07_small_data.R"))
# load participants
participants <- read.csv(here::here("data", "tidy", "participant_count.csv"))
# load data
l1_df <- read.csv(here::here("data", "tidy", "non_l2_subset.csv"))
l2_df <- read.csv(here::here("data", "tidy", "l2_subset.csv"))
tidy_df <- rbind(l1_df, l2_df)
all_desc_df <- read.csv(here("data", "tidy", "all_desc.csv"))
# load models
mod0 <- readRDS(here("data", "models", "full_model.RDS"))
model1 <- readRDS(here("data", "models", "l2_sub_model.RDS"))
model2 <- readRDS(here("data", "models", "l1_sub_model.RDS"))
# load nested model comps
nmc_f <- read.csv(here("data", "tidy", "nmc_full.csv"))
nmc_l1 <- read.csv(here("data", "tidy", "nmc_l1.csv"))
nmc_l2 <- read.csv(here("data", "tidy", "nmc_l2.csv"))
# load r_squared df
r_dq_df <- read.csv(here("data", "tidy", "r_sq_df.csv"))
fm_2rm <- r_dq_df$R2m[1] %>% round(digits = 3)*100 # model full r2m
l2_r2m <- r_dq_df$R2m[2] %>% round(digits = 3)*100 # model l2 r2m
l1_r2m <- r_dq_df$R2m[3] %>% round(digits = 3)*100 # model l1 r2m
fm_2rc <- r_dq_df$R2c[1] %>% round(digits = 3)*100 # model full r2c
l2_r2c <- r_dq_df$R2c[2] %>% round(digits = 3)*100 # model l2 r2c
l1_r2c <- r_dq_df$R2c[3] %>% round(digits = 3)*100 # model l1 r2c
# make fixed effects a df
mod0_fix_ef <- fixef(mod0) %>%
as.data.frame() # full df
mod1_fix_ef <- fixef(model1) %>%
as.data.frame() # L2 subset
mod2_fix_ef <- fixef(model2) %>%
as.data.frame() # L1 subset
# full model effects
full_fr <- mod0_fix_ef$.[2] %>% round(digit = 2) # fr
full_sp <- mod0_fix_ef$.[3] %>% round(digit = 2) # sp
# l2 effects
l2_fr <- mod1_fix_ef$.[2] %>% round(digit = 2) # fr
l2_sp <- mod1_fix_ef$.[3] %>% round(digit = 2) # sp
# l1 effects
l1_fr <- mod2_fix_ef$.[2] %>% round(digit = 2) # fr
l1_sp <- mod2_fix_ef$.[3] %>% round(digit = 2) # sp
participants <- read.csv(here::here("data", "tidy", "participant_count.csv"))
total_participants <- sum(participants$l2_subset_no, participants$non_l2_no, participants$dqed_no)
total_participants_q <- sum(participants$l2_subset_no, participants$non_l2_no)
stim_df <- read.csv(here("data", "tidy", "stim.csv"))
power_df <- read.csv(here("data", "tidy", "powerdf.csv"))
View(mono_data)
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "l1")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "l2")
mono_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
rbind(l1_bind, l2_bind, mono_bind)
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "l1")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "l2")
mono_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
comb_df <- rbind(l1_bind, l2_bind, mono_bind)
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "l1")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "l2")
mono_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
comb_df <- rbind(l1_bind, l2_bind, mono_bind) %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) + geom_boxplot() + xlim(0,.3)
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "l1")
library(here)
library(tidyverse)
library(lme4)
library(sjPlot)
source(here::here("scripts", "07_small_data.R"))
# load participants
participants <- read.csv(here::here("data", "tidy", "participant_count.csv"))
# load data
l1_df <- read.csv(here::here("data", "tidy", "non_l2_subset.csv"))
l2_df <- read.csv(here::here("data", "tidy", "l2_subset.csv"))
tidy_df <- rbind(l1_df, l2_df)
all_desc_df <- read.csv(here("data", "tidy", "all_desc.csv"))
# load models
mod0 <- readRDS(here("data", "models", "full_model.RDS"))
model1 <- readRDS(here("data", "models", "l2_sub_model.RDS"))
model2 <- readRDS(here("data", "models", "l1_sub_model.RDS"))
# load nested model comps
nmc_f <- read.csv(here("data", "tidy", "nmc_full.csv"))
nmc_l1 <- read.csv(here("data", "tidy", "nmc_l1.csv"))
nmc_l2 <- read.csv(here("data", "tidy", "nmc_l2.csv"))
# load r_squared df
r_dq_df <- read.csv(here("data", "tidy", "r_sq_df.csv"))
fm_2rm <- r_dq_df$R2m[1] %>% round(digits = 3)*100 # model full r2m
l2_r2m <- r_dq_df$R2m[2] %>% round(digits = 3)*100 # model l2 r2m
l1_r2m <- r_dq_df$R2m[3] %>% round(digits = 3)*100 # model l1 r2m
fm_2rc <- r_dq_df$R2c[1] %>% round(digits = 3)*100 # model full r2c
l2_r2c <- r_dq_df$R2c[2] %>% round(digits = 3)*100 # model l2 r2c
l1_r2c <- r_dq_df$R2c[3] %>% round(digits = 3)*100 # model l1 r2c
# make fixed effects a df
mod0_fix_ef <- fixef(mod0) %>%
as.data.frame() # full df
mod1_fix_ef <- fixef(model1) %>%
as.data.frame() # L2 subset
mod2_fix_ef <- fixef(model2) %>%
as.data.frame() # L1 subset
# full model effects
full_fr <- mod0_fix_ef$.[2] %>% round(digit = 2) # fr
full_sp <- mod0_fix_ef$.[3] %>% round(digit = 2) # sp
# l2 effects
l2_fr <- mod1_fix_ef$.[2] %>% round(digit = 2) # fr
l2_sp <- mod1_fix_ef$.[3] %>% round(digit = 2) # sp
# l1 effects
l1_fr <- mod2_fix_ef$.[2] %>% round(digit = 2) # fr
l1_sp <- mod2_fix_ef$.[3] %>% round(digit = 2) # sp
participants <- read.csv(here::here("data", "tidy", "participant_count.csv"))
total_participants <- sum(participants$l2_subset_no, participants$non_l2_no, participants$dqed_no)
total_participants_q <- sum(participants$l2_subset_no, participants$non_l2_no)
stim_df <- read.csv(here("data", "tidy", "stim.csv"))
power_df <- read.csv(here("data", "tidy", "powerdf.csv"))
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "l1")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "l2")
mono_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
comb_df <- rbind(l1_bind, l2_bind, mono_bind) %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) + geom_boxplot() + xlim(0,.3)
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "l1")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "l2")
mono_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
comb_df <- rbind(l1_bind, l2_bind, mono_bind) %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) + geom_boxplot()
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "l1")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "l2")
mono_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
comb_df <- rbind(l1_bind, l2_bind, mono_bind) %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot()
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "l1")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "l2")
mono_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
1 + 1
comb_df <- rbind(l1_bind, l2_bind, mono_bind)
comb_df %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot()
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "l1")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "l2")
mono_bind <- mono_df %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
comb_df <- rbind(l1_bind, l2_bind, mono_bind)
comb_df %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot()
mono_bind <- mono_df %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
View(mono_bio)
View(mono_data)
mono_bind <- mono_data %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
comb_df <- rbind(l1_bind, l2_bind, mono_bind)
comb_df %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot()
mono_data %>%
ggplot(aes(x = relative_vot, y = language)) + geom_boxplot(outlier.shape = NA) + xlim(0,.3)
mono_data %>%
ggplot(aes(x = relative_vot, y = language)) + geom_boxplot(outlier.shape = NA)
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "l1")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "l2")
mono_bind <- mono_data %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
comb_df <- rbind(l1_bind, l2_bind, mono_bind)
comb_df %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot(outlier.shape = NA)
mono_df <- mono_data %>%
group_by(language) %>%
summarise(mean = mean(relative_vot), sd = sd(relative_vot)) %>%
knitr::kable(digits = 3, caption = "Table 6: Descriptive pooled Relative VOT per language in monolinguals")
mono_df <- mono_data %>%
group_by(language) %>%
summarise(mean = mean(relative_vot), sd = sd(relative_vot)) %>%
knitr::kable(digits = 3, caption = "Table 6: Descriptive pooled Relative VOT per language in monolinguals")
mono_data %>%
group_by(language) %>%
summarise(mean = mean(relative_vot), sd = sd(relative_vot)) %>%
knitr::kable(digits = 3, caption = "Table 6: Descriptive pooled Relative VOT per language in monolinguals")
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "bilinguals")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "bilinguals")
mono_bind <- mono_data %>%
select(relative_vot, language) %>%
mutate(subset = "monolinguals")
comb_df <- rbind(l1_bind, l2_bind, mono_bind)
comb_df %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot(outlier.shape = NA)
tidy_df %>%
ggplot(aes(x = relative_vot, y = language)) + geom_boxplot(outlier.shape = NA) + xlim(0,.3)
tidy_df %>%
ggplot(aes(x = relative_vot, y = language)) +
geom_boxplot(outlier.shape = NA) + xlim(0,.3)
tidy_df %>%
ggplot(aes(x = relative_vot, y = language)) +
geom_boxplot(outlier.shape = NA) + xlim(0,.3) +
ggsave(path = here("docs", "plots", "figure_1.png"))
tidy_df %>%
ggplot(aes(x = relative_vot, y = language)) +
geom_boxplot(outlier.shape = NA) + xlim(0,.3) +
ggsave(filename = "figure_1.png", path = here("docs", "plots"))
tidy_df %>%
ggplot(aes(x = relative_vot, y = language)) +
geom_boxplot(outlier.shape = NA) + xlim(0,.3) +
ggsave(filename = "figure_1.png", path = here("docs", "plots"),
dpi = 1200)
library("papaja")
r_refs("r-references.bib")
source(here::here("scripts", "07_small_data.R"))
knitr::include_graphics(
here("docs", "plots", "figure_1")
)
knitr::include_graphics(
here("docs", "plots", "figure_1.png")
)
l1_bind <- l1_df %>% # new figure 2
select(relative_vot, language) %>%
mutate(subset = "bilinguals")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "bilinguals")
mono_bind <- mono_data %>%
select(relative_vot, language) %>%
mutate(subset = "monolinguals")
comb_df <- rbind(l1_bind, l2_bind, mono_bind)
comb_df %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot(outlier.shape = NA)
library("papaja")
r_refs("r-references.bib")
source(here::here("scripts", "07_small_data.R"))
source(here::here("scripts", "07_small_data.R"))
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "bilinguals")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "bilinguals")
mono_bind <- mono_data %>%
select(relative_vot, language) %>%
mutate(subset = "monolinguals")
comb_df <- rbind(l1_bind, l2_bind, mono_bind)
comb_df %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot(outlier.shape = NA)
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "bilinguals")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "bilinguals")
mono_bind <- mono_data %>%
select(relative_vot, language) %>%
mutate(subset = "monolinguals")
comb_df <- rbind(l1_bind, l2_bind, mono_bind)
comb_df %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot(outlier.shape = NA)
comb_df %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot(outlier.shape = NA) +
ggsave(filename = "figure_2.png", path = here("docs", "plots"),
dpi = 1200)
source(here::here("scripts", "07_small_data.R"))
library(gridExtra)
data.frame(Spanish = c("tiro", "tema", "talla", "quiso", "queja", "cama", "piso", "pena", "pato"),
English = c("tipping", "teller", "tacky", "penny" , "pass", "parrot", "kitten", "kennel", "cabbage"),
French = c("tir", "terre", "tasse", "quitte", "quelle", "pile", "pere", "patte", "")) %>%
png(filename = "table_1)
1 + 1
tidy_df %>%
ggplot(aes(x = relative_vot, y = language)) + geom_boxplot(outlier.shape = NA) + xlim(0,.3)
tidy_df %>%
ggplot(aes(x = relative_vot, y = language)) + geom_boxplot(outlier.shape = NA) + xlim(0,.3)
l1_df %>%
ggplot(aes(x = relative_vot, y = language)) + geom_boxplot(outlier.shape = NA) + xlim(0,.3)
power_df %>%
dplyr::select(power, subset, pairing) %>%
knitr::kable()
all_desc_df %>% # effect sizes - add if there is room
ggplot(aes(x = eff_size, y = set, color = pair)) + geom_point() +
geom_linerange(aes(xmin = ci_low, xmax = ci_hi)) +
geom_tile(aes(width = -.4 - .4),
alpha = 0.2, height = Inf, fill = "#31688EFF")
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "l1")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "l2")
mono_bind <- mono_data %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
comb_df <- rbind(l1_bind, l2_bind, mono_bind)
comb_df %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot(outlier.shape = NA)
l1_bind <- l1_df %>% # new figure 2
select(relative_vot, language) %>%
mutate(subset = "bilinguals")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "bilinguals")
mono_bind <- mono_data %>%
select(relative_vot, language) %>%
mutate(subset = "monolinguals")
comb_df <- rbind(l1_bind, l2_bind, mono_bind)
comb_df %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot(outlier.shape = NA)
tidy_df %>%
ggplot(aes(x = relative_vot, y = language)) + geom_boxplot(outlier.shape = NA) + xlim(0,.3)
all_desc_df %>% # effect sizes - add if there is room
ggplot(aes(x = eff_size, y = set, color = pair)) + geom_point() +
geom_linerange(aes(xmin = ci_low, xmax = ci_hi)) +
geom_tile(aes(width = -.4 - .4),
alpha = 0.2, height = Inf, fill = "#31688EFF")  +
ggsave(filename = "figure_2.png", path = here("docs", "plots"),
dpi = 1200)
l1_bind <- l1_df %>%
select(relative_vot, language) %>%
mutate(subset = "l1")
l2_bind <- l2_df %>%
select(relative_vot, language) %>%
mutate(subset = "l2")
mono_bind <- mono_data %>%
select(relative_vot, language) %>%
mutate(subset = "mono")
comb_df <- rbind(l1_bind, l2_bind, mono_bind)
comb_df %>%
ggplot(aes(x = relative_vot, y = language, color = subset)) +
geom_boxplot(outlier.shape = NA) +
ggsave(filename = "figure_7.png", path = here("docs", "plots"),
dpi = 1200)
l2_df %>%
ggplot(aes(x = relative_vot, y = language)) + geom_boxplot(outlier.shape = NA) + xlim(0,.3) +
ggsave(filename = "figure_3.png", path = here("docs", "plots"),
dpi = 1200)
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
